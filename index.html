<!doctype html>
<html>

    <head>
        <title></title>
        <meta charset="utf-8" />
    </head>

    <body>
        <video autoplay><video>

            <script>
             navigator.getUserMedia  = navigator.getUserMedia ||
                          navigator.webkitGetUserMedia ||
                          navigator.mozGetUserMedia ||
                          navigator.msGetUserMedia;

             var errorCallback = function(e) {
                 console.log('Reeeejected!', e);
             };

             // Not showing vendor prefixes.
             navigator.getUserMedia({
                 video: true,
                 audio: false
             }, function(localMediaStream) {
                 console.log('getting video');
                 var video = document.querySelector('video');
                 video.src = window.URL.createObjectURL(localMediaStream);

                 // Note: onloadedmetadata doesn't fire in Chrome when using it with getUserMedia.
                 // See crbug.com/110938.
                 video.onloadedmetadata = function(e) {
                     // Ready to go. Do some stuff.
                 };
             }, errorCallback);
            </script>
    </body>

</html>
